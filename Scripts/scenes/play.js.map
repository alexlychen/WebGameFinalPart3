{"version":3,"sources":["scenes/play.ts"],"names":[],"mappings":"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","file":"scenes/play.js","sourcesContent":["/*\r\n#######################################################################################\r\nThe name of source file : play.ts\r\nThe information of author :  Giho Kim #300738697\r\nLast Modified by: Giho Kim\r\nLast Modified date: 29 March 2016\r\nProgram Description: The game is to avoid the enemies using the side scroller. User can\r\ncontrol the player by a mouse and the enemies will be generated randomly. Some hearts\r\nalso will be generated as bonus. when user get a bonus, which will give a life.\r\nGood Luck!\r\nRevision History: 1.0\r\n#######################################################################################\r\n*/\r\n\r\n// PLAY SCENE\r\nmodule scenes {\r\n    export class Play extends objects.Scene {\r\n        //PRIVATE INSTANCE VARIABLES ++++++++++++\r\n        private _forest: objects.Forest;\r\n        private _enemies: objects.Enemy[];\r\n        private _bonus: objects.Bonus;\r\n        private _enemyCount: number;\r\n        private _player: objects.Player;\r\n        private _collision: managers.Collision;\r\n        private _scoreLabel: objects.Label;\r\n        private _livesLabel: objects.Label;\r\n        private _shot: managers.Shot;\r\n\r\n        // CONSTRUCTOR ++++++++++++++++++++++\r\n        constructor() {\r\n            super();\r\n        }\r\n        \r\n        //PRIVATE METHODS\r\n        /**\r\n        * @method _updateScore\r\n        * @return void\r\n        */\r\n        private _updateScore(): void {\r\n            this._livesLabel.text = \"Lives: \" + livesValue;\r\n            this._scoreLabel.text = \"Score: \" + Math.round(scoreValue);\r\n        }\r\n        \r\n        // PUBLIC METHODS +++++++++++++++++++++\r\n        // Start Method\r\n        public start(): void {   \r\n            // Set score and lives value\r\n            livesValue = 5;\r\n            scoreValue = 0;\r\n            \r\n            // Add background music\r\n            createjs.Sound.play(\"backMusic\").loop = -1;\r\n            createjs.Sound.volume = 20;\r\n            \r\n            //Set Enemy Count\r\n            this._enemyCount = 7;\r\n            \r\n            //Instantiate Enemy array \r\n            this._enemies = new Array<objects.Enemy>();\r\n                \r\n            // added forest to the scene\r\n            this._forest = new objects.Forest();\r\n            this.addChild(this._forest);\r\n            \r\n            // added player to the secne\r\n            this._player = new objects.Player();\r\n            this.addChild(this._player);\r\n            // Add playing sound\r\n            createjs.Sound.play(\"bgmplaying\").loop = -1;\r\n            \r\n            // added enemies to the scene\r\n            for (var enemy: number = 0; enemy < this._enemyCount; enemy++) {\r\n                this._enemies[enemy] = new objects.Enemy();\r\n                this.addChild(this._enemies[enemy]);\r\n            }\r\n            \r\n            // added collision manager to the scene\r\n            this._collision = new managers.Collision(this._player);\r\n            //this._shoot = new managers.Shoot();\r\n            this._shot = new managers.Shot();\r\n            \r\n            // added bonus to the scene\r\n            this._bonus = new objects.Bonus();\r\n            this.addChild(this._bonus);\r\n            \r\n\r\n            \r\n            // added lives and score labels to the scene\r\n            this._livesLabel = new objects.Label(\"Lives:\", \"40px Candara Bold Italic\", \"#FF0000\", 20, 0, false);\r\n            this.addChild(this._livesLabel);\r\n            this._scoreLabel = new objects.Label(\"Score:\", \"40px Candara Bold Italic\", \"#FF0000\", 425, 0, false);\r\n            this.addChild(this._scoreLabel);\r\n           \r\n           \r\n            // add this scene to the global stage container\r\n            stage.addChild(this);\r\n        }\r\n\r\n        // PLAY Scene updates here\r\n        public update(): void {\r\n            this._forest.update();\r\n            this._bonus.update();\r\n            this._player.update(controls);\r\n            //this._shoot.check(this._player, this._enemies);\r\n            \r\n            this._player._bullets.forEach(bullet =>{\r\n                this._enemies.forEach(enemy => {\r\n                    enemy.update();\r\n                    this._shot.check(bullet, enemy);\r\n                });\r\n            });\r\n            \r\n            this._enemies.forEach(enemy => {\r\n                enemy.update();\r\n                this._collision.check(enemy);\r\n                scoreValue += 0.1;\r\n            });\r\n\r\n            this._collision.check(this._bonus);\r\n               \r\n            this._updateScore();\r\n            if (scoreValue >= 500) {\r\n                //Change to Level2 \r\n                createjs.Sound.stop();\r\n                scene = config.Scene.LEVEL2_INTRO;\r\n                changeScene();\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n}"],"sourceRoot":"/source/"}